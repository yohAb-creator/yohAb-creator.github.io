(()=>{document.addEventListener("DOMContentLoaded",()=>{let r=document.querySelector("[data-progress-bar]");if(r){let n=()=>{let t=document.documentElement.scrollHeight-window.innerHeight,e=t>0?Math.min(window.scrollY/t*100,100):0;r.style.setProperty("--progress",`${e}%`)};n(),window.addEventListener("scroll",n,{passive:!0}),window.addEventListener("resize",n)}let c=document.querySelector("[data-view-counter]");if(c){let n=c.dataset.viewKey,t=c.querySelector("[data-view-count-number]"),e="yohannes-bridge-blog",o=s=>{t&&(t.textContent=s)};n?fetch(`https://api.countapi.xyz/hit/${e}/${encodeURIComponent(n)}`).then(s=>s.json()).then(s=>{typeof s?.value=="number"?o(s.value.toLocaleString()):o("\u2014")}).catch(()=>o("\u2014")):o("\u2014")}document.querySelectorAll("pre > code").forEach(n=>{let t=n.parentElement;if(!t||t.dataset.copyAttached==="true")return;let e=document.createElement("button");e.type="button",e.className="copy-btn",e.textContent="Copy",e.addEventListener("click",async()=>{try{await navigator.clipboard.writeText(n.innerText);let o=e.textContent;e.textContent="Copied",e.classList.add("copy-btn--success"),setTimeout(()=>{e.textContent=o,e.classList.remove("copy-btn--success")},1600)}catch{e.textContent="Error",setTimeout(()=>{e.textContent="Copy"},1200)}}),t.dataset.copyAttached="true",t.classList.add("pre-with-copy"),t.appendChild(e)})});})();
